<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Using Image Resize with PICTURE elements</title>
<script>!function(a,b,c,d,e){function g(a,c,d,e){var f=b.getElementsByTagName("script")[0];e.src?a.src=e.src:e.innerHTML&&(a.innerHTML=e.innerHTML),a.id=c,a.setAttribute("class",d),f.parentNode.insertBefore(a,f)}a.Mobify={points:[+new Date]};var f=/((; )|#|&|^)mobify=(\d)/.exec(location.hash+"; "+b.cookie);if(f&&f[3]){if(!+f[3])return}else if(!c())return;b.write('<plaintext style="display:none">'),setTimeout(function(){var c=a.Mobify=a.Mobify||{};c.capturing=!0;var f=b.createElement("script"),h=function(){var c=new Date;c.setTime(c.getTime()+18e5),b.cookie="mobify=0; expires="+c.toGMTString()+"; path=/",a.location=a.location.href};f.onload=function(){if(e){var a=b.createElement("script");if(a.onerror=h,"string"==typeof e)g(a,"main-executable","mobify",{src:e});else{var c="var main = "+e.toString()+"; main();";g(a,"main-executable","mobify",{innerHTML:c})}}},f.onerror=h,g(f,"mobify-js","mobify",{src:d})})}(window,document,function(){return match=/webkit|msie\s10|(firefox)[\/\s](\d+)|(opera)[\s\S]*version[\/\s](\d+)|3ds/i.exec(navigator.userAgent),match?match[1]&&+match[2]<4?!1:match[3]&&+match[4]<11?!1:!0:!1},

// path to mobify.js
"/mobifyjs/build/mobify.min.js",

// calls to APIs go here (or path to a main.js)
function() {
  var capturing = window.Mobify && window.Mobify.capturing || false;
  if (capturing) {
    Mobify.Capture.init(function(capture){
      var capturedDoc = capture.capturedDoc;

      var images = capturedDoc.querySelectorAll("img, picture");
      Mobify.ResizeImages.resize(images);
        
      // Render source DOM to document
      capture.renderCapturedDoc();
    });
  }
});</script>
<!-- END MOBIFY TAG -->
<link rel="stylesheet" href="/mobifyjs/examples/assets/css/stylesheet.css" type="text/css">
<style>
img {
    max-width: 100%;
}
picture {
    display: block;
    padding: 1em;
}
.example-photo {
    max-width: 100%;
}
@media (min-width: 512px) {
    .example-photo {
        float: left;
        max-width: 50%;
    }
}
</style>
</head>
<body class="foo">

    <p>Picture element is used here in a much simpler way. Equivilent images at different breakpoints do not need to be automatically generated, they only need to set width attributes for each `source` element.</p>
    <p>View the source to have a look, and view the inspector to see what the `resize` method does to the picture element's markup.</p>
    <!-- http://upload.wikimedia.org/wikipedia/commons/6/68/President_Barack_Obama_Tours_Storm_Damage_in_New_Jersey_2.jpg -->
    <picture class="example-photo" data-src="/mobifyjs/examples/assets/images/responsive-obama.jpg">
        <source src="/mobifyjs/examples/assets/images/responsive-obama-mobile.png">
        <source media="(min-width: 512px)">
        <source media="(min-width: 1024px)" data-width="512">
        <source media="(min-width: 2048px)" data-width="1024">
        <img src="/mobifyjs/examples/assets/images/responsive-obama.jpg">
    </picture>

    <h1>Excitingus Headlineus</h1>

    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam viverra vestibulum mi, vitae euismod libero vehicula non. Morbi sollicitudin nulla in metus tincidunt lobortis. Cras volutpat eros sapien, vitae tempor arcu faucibus at. Sed a accumsan purus. Nulla eget sem lectus. Nullam pharetra lobortis eleifend. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed vel ligula velit. Integer eget sodales lacus, rutrum blandit dui.</p>

    <p>Quisque pharetra augue id vehicula vulputate. Quisque volutpat dui nec vehicula hendrerit. Vivamus semper quam enim, vitae molestie enim luctus non. Fusce ornare nisi non arcu volutpat vestibulum. Aliquam quis neque quis metus pretium auctor. Cras vitae felis et odio auctor ornare sed a augue. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Ut accumsan tincidunt sapien. Donec volutpat erat at diam facilisis, eget tempus quam pharetra.</p>

    <p>Mauris vulputate diam ac ante scelerisque, sed sodales turpis mattis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Sed purus justo, facilisis sed mauris et, tempus auctor mi. Sed ac interdum magna. Pellentesque id odio a lectus dapibus pharetra nec vitae urna. Suspendisse rutrum, odio a bibendum semper, velit augue fringilla augue, a rutrum ligula tellus non lorem. Donec quis felis nec nisi venenatis scelerisque.</p>

    <p>Sed at aliquam mauris. Vestibulum aliquet, risus in bibendum mollis, nibh lectus gravida nunc, at condimentum metus arcu vel mi. Morbi id egestas erat. Sed vitae nisl molestie, dictum ante a, ultrices magna. Ut euismod accumsan sagittis. Vivamus porta nibh quis erat suscipit, vel consectetur tellus ultricies. Donec aliquam ornare congue. Cras lobortis purus nec nisl laoreet sodales. Proin sit amet mi vel urna vehicula ultrices non et mauris. Mauris ante dui, consectetur et tincidunt sed, bibendum in elit. Pellentesque volutpat hendrerit nisi a lacinia. Cras cursus in dui id porta.</p>

    <p>Aliquam erat volutpat. Duis odio felis, consectetur sit amet libero et, rhoncus lacinia lacus. Vestibulum et magna sit amet tortor hendrerit lacinia posuere sit amet nunc. Proin hendrerit gravida molestie. Vivamus sit amet velit a ligula pellentesque pretium. Suspendisse viverra malesuada purus aliquam venenatis. Nunc tempor varius lectus, eget eleifend orci condimentum quis. Suspendisse pharetra, odio id rhoncus pharetra, mauris eros consequat enim, ac feugiat tellus augue a urna. Proin hendrerit dapibus felis iaculis tincidunt.</p>

</body>
</html>
