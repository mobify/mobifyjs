(function(){var e,t,r;(function(n){function i(e,t){return w.call(e,t)}function o(e,t){var r,n,i,o,a,c,s,u,d,l,p=t&&t.split("/"),f=y.map,h=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),u=0;e.length>u;u+=1)if(l=e[u],"."===l)e.splice(u,1),u-=1;else if(".."===l){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||h)&&f){for(r=e.split("/"),u=r.length;u>0;u-=1){if(n=r.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if(i=f[p.slice(0,d).join("/")],i&&(i=i[n])){o=i,a=u;break}if(o)break;!c&&h&&h[n]&&(c=h[n],s=u)}!o&&c&&(o=c,a=s),o&&(r.splice(0,a,o),e=r.join("/"))}return e}function a(e,t){return function(){return f.apply(n,x.call(arguments,0).concat([e,t]))}}function c(e){return function(t){return o(t,e)}}function s(e){return function(t){g[e]=t}}function u(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(n,t)}if(!i(g,e)&&!i(b,e))throw Error("No "+e);return g[e]}function d(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function l(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice;h=function(e,t){var r,n=d(e),i=n[0];return e=n[1],i&&(i=o(i,t),r=u(i)),i?e=r&&r.normalize?r.normalize(e,c(t)):o(e,t):(e=o(e,t),n=d(e),i=n[0],e=n[1],i&&(r=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return t!==void 0?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:l(e)}}},p=function(e,t,r,o){var c,d,l,p,f,y,w=[];if(o=o||e,"function"==typeof r){for(t=!t.length&&r.length?["require","exports","module"]:t,f=0;t.length>f;f+=1)if(p=h(t[f],o),d=p.f,"require"===d)w[f]=m.require(e);else if("exports"===d)w[f]=m.exports(e),y=!0;else if("module"===d)c=w[f]=m.module(e);else if(i(g,d)||i(v,d)||i(b,d))w[f]=u(d);else{if(!p.p)throw Error(e+" missing "+d);p.p.load(p.n,a(o,!0),s(d),{}),w[f]=g[d]}l=r.apply(g[e],w),e&&(c&&c.exports!==n&&c.exports!==g[e]?g[e]=c.exports:l===n&&y||(g[e]=l))}else e&&(g[e]=r)},e=t=f=function(e,t,r,i,o){return"string"==typeof e?m[e]?m[e](t):u(h(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=r,r=null):e=n),t=t||function(){},"function"==typeof r&&(r=i,i=o),i?p(n,e,t,r):setTimeout(function(){p(n,e,t,r)},4),f)},f.config=function(e){return y=e,y.deps&&f(y.deps,y.callback),f},r=function(e,t,r){t.splice||(r=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,r])},r.amd={jQuery:!0}})(),r("almond",function(){}),r("utils",[],function(){var e={};return e.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},e.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},e.values=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},e.clone=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},e.outerHTML=function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));var r=t.innerHTML;return t=null,r},e.removeBySelector=function(t,r){r=r||document;var n=r.querySelectorAll(t);return e.removeElements(n,r)},e.removeElements=function(e,t){t=t||document;for(var r=0,n=e.length;n>r;r++){var i=e[r];i.parentNode.removeChild(i)}return e},e}),r("capture",["utils"],function(e){function t(e){return e.nodeName.toLowerCase()}function r(e){return e.replace('"',"&quot;")}function n(r){return r?[].map.call(r.childNodes,function(r){var n=t(r);return"#comment"==n?"<!--"+r.textContent+"-->":"plaintext"==n?r.textContent:"script"==n&&(/mobify/.test(r.src)||/mobify/i.test(r.textContent))?"":r.outerHTML||r.nodeValue||e.outerHTML(r)}).join(""):""}window.Mobify&&!window.Mobify.capturing&&document.getElementsByTagName("plaintext").length&&(window.Mobify.capturing=!0);var i=/(<script[\s\S]*?>)/gi,o={style:' media="mobify-media"',script:' type="text/mobify-script"'},a=RegExp(e.values(o).join("|"),"g"),c={img:["src"],iframe:["src"],script:["src","type"],link:["href"],style:["media"]},s=RegExp("<("+e.keys(c).join("|")+")([\\s\\S]*?)>","gi"),u={},d={};for(var l in c)if(c.hasOwnProperty(l)){var p=c[l];p.forEach(function(e){d[e]=!0}),u[l]=RegExp("\\s+((?:"+p.join("|")+")\\s*=\\s*(?:('|\")[\\s\\S]+?\\2))","gi")}var f=document.createElement("div"),h=function(t,r){this.doc=t,this.prefix=r||"x-";var n=this.createDocumentFragmentsStrings();e.extend(this,n);var i=this.createDocumentFragments();e.extend(this,i)};return h.init=function(e,t,r){var t=t||document,n=function(e,t,r){var n=new h(t,r);e(n)};if(/complete|interactive|loaded/.test(t.readyState))n(e,t,r);else{var i=!1;t.addEventListener("readystatechange",function(){i||(i=!0,n(e,t,r))},!1)}},h.cloneAttributes=function(e,t){var r=e.match(/^<(\w+)([\s\S]*)$/i);return f.innerHTML="<div"+r[2],[].forEach.call(f.firstChild.attributes,function(e){try{t.setAttribute(e.nodeName,e.nodeValue)}catch(r){console.error("Error copying attributes while capturing: ",r)}}),t},h.disable=function(e,t){var r=function(){return function(e,r,n){return lowercaseTagName=r.toLowerCase(),result="<"+lowercaseTagName+(o[lowercaseTagName]||"")+n.replace(u[lowercaseTagName]," "+t+"$1")+">"}}(),n=/(<!--[\s\S]*?-->)|(?=<\/script)/i,a=e.split(n),c=a.map(function(e){var t;return e?/^<!--/.test(e)?e:(t=e.split(i),t[0]=t[0].replace(s,r),t[1]&&(t[1]=t[1].replace(s,r)),t):""});return[].concat.apply([],c).join("")},h.enable=function(t,r){var n=RegExp("\\s"+r+"("+e.keys(d).join("|")+")","gi");return t.replace(n," $1").replace(a,"")},h.openTag=function(e){if(!e)return"";e.length&&(e=e[0]);var n=[];return[].forEach.call(e.attributes,function(e){n.push(" ",e.name,'="',r(e.value),'"')}),"<"+t(e)+n.join("")+">"},h.prototype.getDoctype=function(){var e=this.doc.doctype||[].filter.call(this.doc.childNodes,function(e){return e.nodeType==Node.DOCUMENT_TYPE_NODE})[0];return e?"<!DOCTYPE HTML"+(e.publicId?' PUBLIC "'+e.publicId+'"':"")+(e.systemId?' "'+e.systemId+'"':"")+">":""},h.prototype.createDocumentFragmentsStrings=function(){var e=this.doc,t=e.getElementsByTagName("head")[0]||e.createElement("head"),r=e.getElementsByTagName("body")[0]||e.createElement("body"),i=e.getElementsByTagName("html")[0];captured={doctype:this.getDoctype(),htmlOpenTag:h.openTag(i),headOpenTag:h.openTag(t),bodyOpenTag:h.openTag(r),headContent:n(t),bodyContent:n(r)},captured.all=function(e){return this.doctype+this.htmlOpenTag+this.headOpenTag+(e||"")+this.headContent+this.bodyContent};var o=/<!--(?:[\s\S]*?)-->|(<\/head\s*>|<body[\s\S]*$)/gi,a=captured.bodyContent=captured.headContent+captured.bodyContent;captured.headContent="";for(var c;c=o.exec(a);c)if(c[1]){if("/"!=c[1][1]){captured.headContent=captured.head||a.slice(0,c.index),captured.bodyContent=c[0];var s=/^((?:[^>'"]*|'[^']*?'|"[^"]*?")*>)([\s\S]*)$/.exec(captured.bodyContent);s&&(captured.bodyOpenTag=s[1],captured.bodyContent=s[2]);break}captured.headContent=a.slice(0,c.index),captured.bodyContent=a.slice(c.index+c[1].length)}return captured},h.prototype.restore=function(){var e=this,t=e.doc,r=function(){t.removeEventListener("DOMContentLoaded",r,!1),setTimeout(function(){t.open(),t.write(e.all()),t.close()},15)};/complete|interactive|loaded/.test(t.readyState)?r():t.addEventListener("DOMContentLoaded",r,!1)},h.prototype.setElementContentFromString=function(e,t){for(this.doc,f.innerHTML=t;f.firstChild;e.appendChild(f.firstChild));},h.prototype.createDocumentFragments=function(){var e={},t=e.capturedDoc=document.implementation.createHTMLDocument(""),r=e.htmlEl=t.documentElement,n=e.headEl=r.firstChild,i=e.bodyEl=r.lastChild;h.cloneAttributes(this.htmlOpenTag,r),h.cloneAttributes(this.headOpenTag,n),h.cloneAttributes(this.bodyOpenTag,i),i.innerHTML=h.disable(this.bodyContent,this.prefix);var o=h.disable(this.headContent,this.prefix);try{n.innerHTML=o}catch(a){var c=n.getElementsByTagName("title")[0];c&&n.removeChild(c),this.setElementContentFromString(n,o)}return r.appendChild(n),r.appendChild(i),e},h.prototype.escapedHTMLString=function(){var t=this.capturedDoc,r=h.enable(t.documentElement.outerHTML||e.outerHTML(t.documentElement),this.prefix),n=this.doctype+r;return n},h.prototype.render=function(e){var t;t=e?h.enable(e):this.escapedHTMLString();var r=this.doc;window.Mobify&&(window.Mobify.capturing=!1),setTimeout(function(){r.open("text/html","replace"),r.write(t),r.close()})},h.prototype.getCapturedDoc=function(){return this.capturedDoc},h.prototype.insertMobifyScripts=function(){var e=this.capturedDoc,t=document.getElementById("mobify-js");t||(t=document.getElementsByTagName("script")[0],t.id="mobify-js",t.setAttribute("class","mobify"));var r=e.importNode(t,!1),n=this.headEl;n.insertBefore(r,n.firstChild);var i=document.getElementById("mobify-js-main");if(i){var o=e.importNode(i,!1);this.bodyEl.appendChild(o)}},h.prototype.renderCapturedDoc=function(){var e=this.capturedDoc;if(this.insertMobifyScripts(),window.Mobify&&window.Mobify.points){var t=this.bodyEl,r=e.createElement("div");r.id="mobify-point",r.setAttribute("style","display: none;"),r.innerHTML=window.Mobify.points[0],t.insertBefore(r,t.firstChild)}this.render()},h}),r("resizeImages",["utils"],function(e){function t(e){function t(t){var r=e||1;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),t}var r=navigator.userAgent.match(/iphone|ipod|ipad/i),n=(navigator.userAgent.match(/android (\d)/i)||{})[1],i={width:window.outerWidth,height:window.outerHeight};if(!r)return n>3?t(i):i;var o=window.orientation%180;return o?(i.height=screen.width,i.width=screen.height):(i.width=screen.width,i.height=screen.height),t(i)}var r={},n=document.createElement("a"),i=/^https?/,o="//ir0.mobify.com",a=r.getImageURL=function(t,r){var n=e.clone(c);r&&e.extend(n,r);var i=[o];if(n.projectName){var a="project-"+n.projectName;i.push(a)}return r.cacheHours&&i.push("c"+r.cacheHours),n.format&&i.push(r.format+(r.quality||"")),n.maxWidth&&(i.push(r.maxWidth),n.maxHeight&&i.push(r.maxHeight)),i.push(t),i.join("/")};r.resize=function(r,o){var s=e.clone(c);o&&e.extend(s,o);var u=s.devicePixelRatio||window.devicePixelRatio,d=t(u),l=s.maxWidth||d.width,p=s.maxHeight||d.height;u&&s.maxWidth&&(l*=u,s.maxHeight&&(p*=u)),s.maxWidth=Math.ceil(l),s.maxHeight=Math.ceil(p);for(var f,h=0;r.length>h;h++){var m=r[h];if(f=m.getAttribute(s.attribute)){n.href=f;var g=n.href;i.test(g)&&m.setAttribute(s.attribute,a(g,s))}}return r};var c={projectName:"oss-"+location.hostname.replace(/[^\w]/g,"-"),attribute:"x-src"};return r}),r("jazzcat",["utils","capture"],function(e,t){var r={},n="Mobify-Combo-Cache-v1.0",i={},o=function(e){r=e||{}},a=function(e,t){var n=r[e.split("#")[0]];return n&&t&&(n.lastUsed=Date.now()),n},c=function(e,t){r[e]=t},s=function(e){var t,r,i=localStorage.getItem(n);if(e&&void 0!==e.overrideTime&&(r={overrideTime:e.overrideTime}),i){try{i=JSON.parse(i)}catch(o){return}for(t in i)i.hasOwnProperty(t)&&!f(i[t],r)&&c(t,i[t])}},u=function(e){var t,i,o,a,c={},s=10,u=9007199254740991;for(i in r)r.hasOwnProperty(i)&&(c[i]=r[i]);(function d(){var r=function(){try{o=JSON.stringify(c)}catch(r){return e&&e(r)}try{localStorage.setItem(n,o)}catch(r){if(!--s)return e&&e(r);for(i in c)if(c.hasOwnProperty(i)){if(t=c[i],!t.lastUsed){a=i,u=0;break}u>=t.lastUsed&&(a=i,u=t.lastUsed)}return delete c[a],d()}e&&e()};setTimeout(r,0)})()},d=/^\s*(public|private|no-cache|no-store)\s*$/,l=/^\s*(max-age)\s*=\s*(\d+)\s*$/,p=function(e){var t,r={};return e.split(",").forEach(function(e){(t=d.exec(e))?r[t[1]]=!0:(t=l.exec(e))&&(r[t[1]]=parseInt(t[2]))}),r},f=function(e,t){var r,n=e.headers||{},i=n["cache-control"],o=Date.now(),a=Date.parse(n.date);return a&&a+6e5>o?!1:t&&(r=t.overrideTime)&&a?o>a+1e3*60*r:i&&a&&(i=p(i),i["max-age"]&&!i["private"]&&!i["no-store"]&&!i["no-cache"])?o>a+1e3*i["max-age"]:(a=Date.parse(n.expires))?o>a:!0},h={get:a,set:c,load:s,save:u,reset:o,cache:r,utils:{isStale:f},options:i},m=document.createElement("a"),g=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},v=window.Jazzcat={httpCache:h,write:document.write};v.isIncompatibleBrowser=function(e){var t=/(firefox)[\/\s](\d+)|(opera[\s\S]*version[\/\s](11|12))/i.exec(e||navigator.userAgent);return t&&t[1]&&12>+t[2]||t&&t[3]||!g()||!window.JSON?!0:!1},v.combineScripts=function(t,r,n){if(n&&void 0!==n.cacheOverrideTime&&e.extend(h.options,{overrideTime:n.cacheOverrideTime}),!t.length||v.isIncompatibleBrowser())return t;var i,o,a=0;for(n=e.extend({},y,n||{}),h.load(h.options);i=t[a++];)o=i.getAttribute(n.attribute),o&&(i.removeAttribute(n.attribute),m.href=o,o=m.href,i.innerHTML=!!h.get(o)+',"'+(i.parentNode===r.head?"head":"body")+'",'+n.execCallback+"('"+o+"');");return t};var y=v.combineScripts.defaults={selector:"script",attribute:"x-src",base:"//jazzcat.mobify.com",endpoint:"jsonp",execCallback:"Jazzcat.combo.exec",loadCallback:"Jazzcat.combo.load",projectName:""};v.combo={exec:function(e){var t,r=h.get(e,!0);r?(t='data-orig-src="'+e+'"',t+=">"+r.body.replace(/(<\/scr)(ipt\s*>)/gi,"$1\\$2")):t='src="'+e+'">',v.write.call(document,"<script "+t+"</script>")},load:function(e){var t,r=0,n=!1;if(e){for(;t=e[r++];)"ready"==t.status&&(n=!0,h.set(encodeURI(t.url),t));n&&h.save()}}};var b=function(){var e=document.createElement("script");return e.innerHTML=h.options.overrideTime?"Jazzcat.httpCache.load("+JSON.stringify(h.options)+");":"Jazzcat.httpCache.load();",e};v.getLoaderScripts=function(e,t,r){var n,i,o=[];return r||(n=b(),o.push(n)),e&&e.length&&(i=document.createElement("script"),i.src=v.getURL(e,t),o.push(i)),o},v.getURL=function(e,t){return y.base+(y.projectName?"/project-"+y.projectName:"")+"/"+y.endpoint+"/"+t+"/"+v.JSONURIencode(e.slice().sort())},v.JSONURIencode=function(e){return encodeURIComponent(JSON.stringify(e))};var w=function(e){return RegExp("<script[^>]*?>(true|false),['\"]"+e+"['\"],"+y.execCallback.replace(/\./g,"\\.")+"\\('([\\s\\S]*?)'\\);<\\/script","gi")};v.insertLoadersIntoHTMLString=function(t){var r=!1,n=function(t,n){for(var i,o,a=-1,c=[],s=w(n);i=s.exec(t);)-1==a&&(a=i.index),"false"===i[1]&&c.push(i[2]);if(-1==a)return t;o=v.getLoaderScripts(c,y.loadCallback,r),!r&&o.length>0&&(r=!0);var u=o.map(function(t){return e.outerHTML(t)}).join("");return t.substr(0,a)+u+t.substr(a)};return t=n(t,"head"),t=n(t,"body")};var x=t.enable;return t.enable=function(){var e=x.apply(t,arguments);return e=v.insertLoadersIntoHTMLString(e)},v}),r("unblockify",["utils","capture"],function(e,t){var r={};return r.moveScripts=function(t,r){e.removeElements(t,r);for(var n=0,i=t.length;i>n;n++){var o=t[n];r.body.appendChild(o)}},r.unblock=function(e){var n=t.prototype.insertMobifyScripts;t.prototype.insertMobifyScripts=function(){n.call(this);var t=this.capturedDoc;r.moveScripts(e,t)}},r}),t(["utils","capture","resizeImages","jazzcat","unblockify"],function(e,t,r,n,i){var o=window.Mobify=window.Mobify||{};return o.Utils=e,o.Capture=t,o.ResizeImages=r,o.Jazzcat=n,o.Unblockify=i,o.api="2.0",o},void 0,!0),r("mobify-library",function(){})})();