(function(){var e,t,n;(function(r){function i(e,t){return w.call(e,t)}function o(e,t){var n,r,i,o,a,c,s,u,d,l,p=t&&t.split("/"),f=y.map,h=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),u=0;e.length>u;u+=1)if(l=e[u],"."===l)e.splice(u,1),u-=1;else if(".."===l){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||h)&&f){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if(i=f[p.slice(0,d).join("/")],i&&(i=i[r])){o=i,a=u;break}if(o)break;!c&&h&&h[r]&&(c=h[r],s=u)}!o&&c&&(o=c,a=s),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function a(e,t){return function(){return f.apply(r,x.call(arguments,0).concat([e,t]))}}function c(e){return function(t){return o(t,e)}}function s(e){return function(t){g[e]=t}}function u(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(r,t)}if(!i(g,e)&&!i(b,e))throw Error("No "+e);return g[e]}function d(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice;h=function(e,t){var n,r=d(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=u(i)),i?e=n&&n.normalize?n.normalize(e,c(t)):o(e,t):(e=o(e,t),r=d(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return t!==void 0?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:l(e)}}},p=function(e,t,n,o){var c,d,l,p,f,y,w=[];if(o=o||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;t.length>f;f+=1)if(p=h(t[f],o),d=p.f,"require"===d)w[f]=m.require(e);else if("exports"===d)w[f]=m.exports(e),y=!0;else if("module"===d)c=w[f]=m.module(e);else if(i(g,d)||i(v,d)||i(b,d))w[f]=u(d);else{if(!p.p)throw Error(e+" missing "+d);p.p.load(p.n,a(o,!0),s(d),{}),w[f]=g[d]}l=n.apply(g[e],w),e&&(c&&c.exports!==r&&c.exports!==g[e]?g[e]=c.exports:l===r&&y||(g[e]=l))}else e&&(g[e]=n)},e=t=f=function(e,t,n,i,o){return"string"==typeof e?m[e]?m[e](t):u(h(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=i,i=o),i?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),f)},f.config=function(e){return y=e,y.deps&&f(y.deps,y.callback),f},n=function(e,t,n){t.splice||(n=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("almond",function(){}),n("utils",[],function(){var e={};return e.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e},e.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.values=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},e.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.outerHTML=function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));var n=t.innerHTML;return t=null,n},e.removeBySelector=function(t,n){n=n||document;var r=n.querySelectorAll(t);return e.removeElements(r,n)},e.removeElements=function(e,t){t=t||document;for(var n=0,r=e.length;r>n;n++){var i=e[n];i.parentNode.removeChild(i)}return e},e}),n("capture",["utils"],function(e){function t(e){return e.nodeName.toLowerCase()}function n(e){return e.replace('"',"&quot;")}function r(n){return n?[].map.call(n.childNodes,function(n){var r=t(n);return"#comment"==r?"<!--"+n.textContent+"-->":"plaintext"==r?n.textContent:"script"==r&&(/mobify/.test(n.src)||/mobify/i.test(n.textContent))?"":n.outerHTML||n.nodeValue||e.outerHTML(n)}).join(""):""}window.Mobify&&!window.Mobify.capturing&&document.getElementsByTagName("plaintext").length&&(window.Mobify.capturing=!0);var i=/(<script[\s\S]*?>)/gi,o={style:' media="mobify-media"',script:' type="text/mobify-script"'},a=RegExp(e.values(o).join("|"),"g"),c={img:["src"],iframe:["src"],script:["src","type"],link:["href"],style:["media"]},s=RegExp("<("+e.keys(c).join("|")+")([\\s\\S]*?)>","gi"),u={},d={};for(var l in c)if(c.hasOwnProperty(l)){var p=c[l];p.forEach(function(e){d[e]=!0}),u[l]=RegExp("\\s+((?:"+p.join("|")+")\\s*=\\s*(?:('|\")[\\s\\S]+?\\2))","gi")}var f=document.createElement("div"),h=function(t,n){this.doc=t,this.prefix=n||"x-";var r=this.createDocumentFragmentsStrings();e.extend(this,r);var i=this.createDocumentFragments();e.extend(this,i)};return h.init=function(e,t,n){var t=t||document,r=function(e,t,n){var r=new h(t,n);e(r)};if(/complete|interactive|loaded/.test(t.readyState))r(e,t,n);else{var i=!1;t.addEventListener("readystatechange",function(){i||(i=!0,r(e,t,n))},!1)}},h.cloneAttributes=function(e,t){var n=e.match(/^<(\w+)([\s\S]*)$/i);return f.innerHTML="<div"+n[2],[].forEach.call(f.firstChild.attributes,function(e){try{t.setAttribute(e.nodeName,e.nodeValue)}catch(n){console.error("Error copying attributes while capturing: ",n)}}),t},h.disable=function(e,t){var n=function(){return function(e,n,r){return lowercaseTagName=n.toLowerCase(),result="<"+lowercaseTagName+(o[lowercaseTagName]||"")+r.replace(u[lowercaseTagName]," "+t+"$1")+">"}}(),r=/(<!--[\s\S]*?-->)|(?=<\/script)/i,a=e.split(r),c=a.map(function(e){var t;return e?/^<!--/.test(e)?e:(t=e.split(i),t[0]=t[0].replace(s,n),t[1]&&(t[1]=t[1].replace(s,n)),t):""});return[].concat.apply([],c).join("")},h.enable=function(t,n){var r=RegExp("\\s"+n+"("+e.keys(d).join("|")+")","gi");return t.replace(r," $1").replace(a,"")},h.openTag=function(e){if(!e)return"";e.length&&(e=e[0]);var r=[];return[].forEach.call(e.attributes,function(e){r.push(" ",e.name,'="',n(e.value),'"')}),"<"+t(e)+r.join("")+">"},h.prototype.getDoctype=function(){var e=this.doc.doctype||[].filter.call(this.doc.childNodes,function(e){return e.nodeType==Node.DOCUMENT_TYPE_NODE})[0];return e?"<!DOCTYPE HTML"+(e.publicId?' PUBLIC "'+e.publicId+'"':"")+(e.systemId?' "'+e.systemId+'"':"")+">":""},h.prototype.createDocumentFragmentsStrings=function(){var e=this.doc,t=e.getElementsByTagName("head")[0]||e.createElement("head"),n=e.getElementsByTagName("body")[0]||e.createElement("body"),i=e.getElementsByTagName("html")[0];captured={doctype:this.getDoctype(),htmlOpenTag:h.openTag(i),headOpenTag:h.openTag(t),bodyOpenTag:h.openTag(n),headContent:r(t),bodyContent:r(n)},captured.all=function(e){return this.doctype+this.htmlOpenTag+this.headOpenTag+(e||"")+this.headContent+this.bodyContent};var o=/<!--(?:[\s\S]*?)-->|(<\/head\s*>|<body[\s\S]*$)/gi,a=captured.bodyContent=captured.headContent+captured.bodyContent;captured.headContent="";for(var c;c=o.exec(a);c)if(c[1]){if("/"!=c[1][1]){captured.headContent=captured.head||a.slice(0,c.index),captured.bodyContent=c[0];var s=/^((?:[^>'"]*|'[^']*?'|"[^"]*?")*>)([\s\S]*)$/.exec(captured.bodyContent);s&&(captured.bodyOpenTag=s[1],captured.bodyContent=s[2]);break}captured.headContent=a.slice(0,c.index),captured.bodyContent=a.slice(c.index+c[1].length)}return captured},h.prototype.restore=function(){var e=this,t=e.doc,n=function(){t.removeEventListener("DOMContentLoaded",n,!1),setTimeout(function(){t.open(),t.write(e.all()),t.close()},15)};/complete|interactive|loaded/.test(t.readyState)?n():t.addEventListener("DOMContentLoaded",n,!1)},h.prototype.setElementContentFromString=function(e,t){for(this.doc,f.innerHTML=t;f.firstChild;e.appendChild(f.firstChild));},h.prototype.createDocumentFragments=function(){var e={},t=e.capturedDoc=document.implementation.createHTMLDocument(""),n=e.htmlEl=t.documentElement,r=e.headEl=n.firstChild,i=e.bodyEl=n.lastChild;h.cloneAttributes(this.htmlOpenTag,n),h.cloneAttributes(this.headOpenTag,r),h.cloneAttributes(this.bodyOpenTag,i),i.innerHTML=h.disable(this.bodyContent,this.prefix);var o=h.disable(this.headContent,this.prefix);try{r.innerHTML=o}catch(a){var c=r.getElementsByTagName("title")[0];c&&r.removeChild(c),this.setElementContentFromString(r,o)}return n.appendChild(r),n.appendChild(i),e},h.prototype.escapedHTMLString=function(){var t=this.capturedDoc,n=h.enable(t.documentElement.outerHTML||e.outerHTML(t.documentElement),this.prefix),r=this.doctype+n;return r},h.prototype.render=function(e){var t;t=e?h.enable(e):this.escapedHTMLString();var n=this.doc;window.Mobify&&(window.Mobify.capturing=!1),setTimeout(function(){n.open("text/html","replace"),n.write(t),n.close()})},h.prototype.getCapturedDoc=function(){return this.capturedDoc},h.prototype.insertMobifyScripts=function(){var e=this.capturedDoc,t=document.getElementById("mobify-js");t||(t=document.getElementsByTagName("script")[0],t.id="mobify-js",t.setAttribute("class","mobify"));var n=e.importNode(t,!1),r=this.headEl;r.insertBefore(n,r.firstChild);var i=document.getElementById("mobify-js-main");if(i){var o=e.importNode(i,!1);this.bodyEl.appendChild(o)}},h.prototype.renderCapturedDoc=function(){var e=this.capturedDoc;if(this.insertMobifyScripts(),window.Mobify&&window.Mobify.points){var t=this.bodyEl,n=e.createElement("div");n.id="mobify-point",n.setAttribute("style","display: none;"),n.innerHTML=window.Mobify.points[0],t.insertBefore(n,t.firstChild)}this.render()},h}),n("resizeImages",["utils"],function(e){function t(e){function t(t){var n=e||1;return t.width=Math.round(t.width*n),t.height=Math.round(t.height*n),t}var n=navigator.userAgent.match(/iphone|ipod|ipad/i),r=(navigator.userAgent.match(/android (\d)/i)||{})[1],i={width:window.outerWidth,height:window.outerHeight};if(!n)return r>3?t(i):i;var o=window.orientation%180;return o?(i.height=screen.width,i.width=screen.height):(i.width=screen.width,i.height=screen.height),t(i)}var n={},r=document.createElement("a"),i=/^https?/,o="//ir0.mobify.com",a=n.getImageURL=function(t,n){var r=e.clone(c);n&&e.extend(r,n);var i=[o];if(r.projectName){var a="project-"+r.projectName;i.push(a)}return n.cacheHours&&i.push("c"+n.cacheHours),r.format&&i.push(n.format+(n.quality||"")),r.maxWidth&&(i.push(n.maxWidth),r.maxHeight&&i.push(n.maxHeight)),i.push(t),i.join("/")};n.resize=function(n,o){var s=e.clone(c);o&&e.extend(s,o);var u=s.devicePixelRatio||window.devicePixelRatio,d=t(u),l=s.maxWidth||d.width,p=s.maxHeight||d.height;u&&s.maxWidth&&(l*=u,s.maxHeight&&(p*=u)),s.maxWidth=Math.ceil(l),s.maxHeight=Math.ceil(p);for(var f,h=0;n.length>h;h++){var m=n[h];if(f=m.getAttribute(s.attribute)){r.href=f;var g=r.href;i.test(g)&&m.setAttribute(s.attribute,a(g,s))}}return n};var c={projectName:"oss-"+location.hostname.replace(/[^\w]/g,"-"),attribute:"x-src"};return n}),n("jazzcat",["utils","capture"],function(e,t){var n={},r="Mobify-Combo-Cache-v1.0",i=function(e){n=e||{}},o=function(e,t){var r=n[e.split("#")[0]];return r&&t&&(r.lastUsed=Date.now()),r},a=function(e,t){n[e]=t},c=function(){var e,t=localStorage.getItem(r);if(t){try{t=JSON.parse(t)}catch(n){return}for(e in t)t.hasOwnProperty(e)&&!p(t[e])&&a(e,t[e])}},s=function(e){var t,i,o,a,c={},s=10,u=9007199254740991;for(i in n)n.hasOwnProperty(i)&&(c[i]=n[i]);(function d(){var n=function(){try{o=JSON.stringify(c)}catch(n){return e&&e(n)}try{localStorage.setItem(r,o)}catch(n){if(!--s)return e&&e(n);for(i in c)if(c.hasOwnProperty(i)){if(t=c[i],!t.lastUsed){a=i,u=0;break}u>=t.lastUsed&&(a=i,u=t.lastUsed)}return delete c[a],d()}e&&e()};setTimeout(n,0)})()},u=/^\s*(public|private|no-cache|no-store)\s*$/,d=/^\s*(max-age)\s*=\s*(\d+)\s*$/,l=function(e){var t,n={};return e.split(",").forEach(function(e){(t=u.exec(e))?n[t[1]]=!0:(t=d.exec(e))&&(n[t[1]]=parseInt(t[2]))}),n},p=function(e){var t,n=e.headers||{},r=n["cache-control"],i=Date.now();return r&&(t=Date.parse(n.date))&&(r=l(r),r["max-age"]&&!r["private"]&&!r["no-store"]&&!r["no-cache"])?i>t+1e3*r["max-age"]:(t=Date.parse(n.expires))?i>t:!0},f={get:o,set:a,load:c,save:s,reset:i,cache:n,utils:{isStale:p}},h=document.createElement("a"),m=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},g=window.Jazzcat={httpCache:f,write:document.write};g.isIncompatibleBrowser=function(e){var t=/(firefox)[\/\s](\d+)|(opera[\s\S]*version[\/\s](11|12))/i.exec(e||navigator.userAgent);return t&&t[1]&&12>+t[2]||t&&t[3]||!m()||!window.JSON?!0:!1},g.combineScripts=function(t,n,r){if(!t.length||g.isIncompatibleBrowser())return t;n||(n=document),n&&!n.getElementById&&(r=n,n=document);var i,o,a=0;for(r=e.extend(v,r||{}),f.load();i=t[a++];)o=i.getAttribute(r.attribute),o&&(i.removeAttribute(r.attribute),h.href=o,o=h.href,i.innerHTML=!!f.get(o)+',"'+(i.parentNode===n.head?"head":"body")+'",'+r.execCallback+"('"+o+"');");return t};var v=g.combineScripts.defaults={selector:"script",attribute:"x-src",base:"//jazzcat.mobify.com",endpoint:"jsonp",execCallback:"Jazzcat.combo.exec",loadCallback:"Jazzcat.combo.load",projectName:""};g.combo={exec:function(e){var t,n=f.get(e,!0);n?(t='data-orig-src="'+e+'"',t+=">"+n.body.replace(/(<\/scr)(ipt\s*>)/gi,"$1\\$2")):t='src="'+e+'">',g.write.call(document,"<script "+t+"</script>")},load:function(e){var t,n=0,r=!1;if(f.load(),e){for(;t=e[n++];)"ready"==t.status&&(r=!0,f.set(encodeURI(t.url),t));r&&f.save()}}},g.getLoaderScript=function(e,t){var n=document.createElement("script");return e.length?n.src=g.getURL(e,t):n.innerHTML=t+"();",n},g.getURL=function(e,t){return v.base+(v.projectName?"/project-"+v.projectName:"")+"/"+v.endpoint+"/"+t+"/"+g.JSONURIencode(e.slice().sort())},g.JSONURIencode=function(e){return encodeURIComponent(JSON.stringify(e))};var y=function(e){return RegExp("<script[^>]*?>(true|false),['\"]"+e+"['\"],"+v.execCallback.replace(/\./g,"\\.")+"\\('([\\s\\S]*?)'\\);<\\/script","gi")};g.insertLoaderIntoHTMLString=function(t,n){for(var r,i,o=-1,a=[],c=y(n);r=c.exec(t);)-1==o&&(o=r.index),"false"===r[1]&&a.push(r[2]);return-1==o?t:(i=g.getLoaderScript(a,v.loadCallback),t.substr(0,o)+e.outerHTML(i)+t.substr(o))};var b=t.enable;return t.enable=function(){var e=b.apply(t,arguments);return e=g.insertLoaderIntoHTMLString(e,"head"),e=g.insertLoaderIntoHTMLString(e,"body")},g}),n("unblockify",["utils","capture"],function(e,t){var n={};return n.moveScripts=function(t,n){e.removeElements(t,n);for(var r=0,i=t.length;i>r;r++){var o=t[r];n.body.appendChild(o)}},n.unblock=function(e){var r=t.prototype.insertMobifyScripts;t.prototype.insertMobifyScripts=function(){r.call(this);var t=this.capturedDoc;n.moveScripts(e,t)}},n}),t(["utils","capture","resizeImages","jazzcat","unblockify"],function(e,t,n,r,i){var o=window.Mobify=window.Mobify||{};return o.Utils=e,o.Capture=t,o.ResizeImages=n,o.Jazzcat=r,o.Unblockify=i,o.api="2.0",o},void 0,!0),n("mobify-library",function(){})})();